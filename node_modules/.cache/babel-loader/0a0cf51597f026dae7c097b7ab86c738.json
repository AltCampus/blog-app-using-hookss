{"ast":null,"code":"import _defineProperty from\"/home/somanshu/Desktop/altcampus/REACT/blog-app/blog-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/home/somanshu/Desktop/altcampus/REACT/blog-app/blog-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/somanshu/Desktop/altcampus/REACT/blog-app/blog-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/somanshu/Desktop/altcampus/REACT/blog-app/blog-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/somanshu/Desktop/altcampus/REACT/blog-app/blog-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import Hero from\"./hero\";import Sidebar from\"./sidebar\";import ArticlesFeed from\"./articlesFeed\";import Feed from\"./feed\";import Pagination from\"./pagination\";import fetchData from\"../utils/fetchData\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=/*#__PURE__*/function(_React$Component){_inherits(Home,_React$Component);var _super=_createSuper(Home);function Home(){var _this;_classCallCheck(this,Home);_this=_super.call(this);_this.handleArticlesData=function(key,value){_this.setState(_defineProperty({},key,value));};_this.handleState=function(key,value){_this.setState(_defineProperty({openTag:\"\",articles:null,articlesCount:0,myfeed:false},key,value),function(){if(key===\"openTag\"&&value!==\"\"||key===\"activeIndex\"||key===\"myfeed\"){fetchData(_this.state.myfeed===true?\"&author=\".concat(_this.state.author):\"\",_this.state.activeIndex,_this.handleArticlesData,_this.props.user.token,_this.state.openTag?\"tag=\".concat(_this.state.openTag,\"&\"):\"\");}});};_this.state={openTag:\"\",articles:null,activeIndex:0,articlesCount:0,myfeed:false,author:null,error:\"\"};return _this;}_createClass(Home,[{key:\"componentDidMount\",value:function componentDidMount(){fetchData(this.state.myfeed===true?\"&author=\".concat(this.state.author):\"\",this.state.activeIndex,this.handleArticlesData,this.props.user?this.props.user.token:\"\",this.state.openTag?\"tag=\".concat(this.state.openTag,\"&\"):\"\");this.setState({author:this.props.author});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsx(Hero,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"home w-3/5\",children:[/*#__PURE__*/_jsx(Feed,{handleState:this.handleState,openTag:this.state.openTag,author:this.state.author,myfeed:this.state.myfeed}),this.state.error?/*#__PURE__*/_jsx(\"p\",{className:\"text-base capitalize text-center m-4\",children:this.state.error}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ArticlesFeed,{articles:this.state.articles,openTag:this.state.openTag,user:this.props.user,handleState:this.handleState}),this.state.articles?/*#__PURE__*/_jsx(Pagination,{handleState:this.handleState,articlesCount:this.state.articlesCount,activeIndex:this.state.activeIndex}):\"\"]})]}),/*#__PURE__*/_jsx(Sidebar,{handleState:this.handleState,tags:this.state.tags})]})]});}}]);return Home;}(React.Component);export default Home;","map":{"version":3,"names":["React","Hero","Sidebar","ArticlesFeed","Feed","Pagination","fetchData","Home","handleArticlesData","key","value","setState","handleState","openTag","articles","articlesCount","myfeed","state","author","activeIndex","props","user","token","error","tags","Component"],"sources":["/home/somanshu/Desktop/altcampus/REACT/blog-app/blog-app/src/components/home.js"],"sourcesContent":["import React from \"react\";\nimport Hero from \"./hero\";\nimport Sidebar from \"./sidebar\";\nimport ArticlesFeed from \"./articlesFeed\";\nimport Feed from \"./feed\";\nimport Pagination from \"./pagination\";\nimport fetchData from \"../utils/fetchData\";\n\nclass Home extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      openTag: \"\",\n      articles: null,\n      activeIndex: 0,\n      articlesCount: 0,\n      myfeed: false,\n      author: null,\n      error: \"\",\n    };\n  }\n  componentDidMount() {\n    fetchData(\n      this.state.myfeed === true ? `&author=${this.state.author}` : \"\",\n      this.state.activeIndex,\n      this.handleArticlesData,\n      this.props.user ? this.props.user.token : \"\",\n      this.state.openTag ? `tag=${this.state.openTag}&` : \"\"\n    );\n    this.setState({\n      author: this.props.author,\n    });\n  }\n  handleArticlesData = (key, value) => {\n    this.setState({\n      [key]: value,\n    });\n  };\n  handleState = (key, value) => {\n    this.setState(\n      {\n        openTag: \"\",\n        articles: null,\n        articlesCount: 0,\n        myfeed: false,\n        [key]: value,\n      },\n      () => {\n        if (\n          (key === \"openTag\" && value !== \"\") ||\n          key === \"activeIndex\" ||\n          key === \"myfeed\"\n        ) {\n          fetchData(\n            this.state.myfeed === true ? `&author=${this.state.author}` : \"\",\n            this.state.activeIndex,\n            this.handleArticlesData,\n            this.props.user.token,\n            this.state.openTag ? `tag=${this.state.openTag}&` : \"\"\n          );\n        }\n      }\n    );\n  };\n  render() {\n    return (\n      <div className=\"main\">\n        <Hero />\n        <div className=\"flex justify-end\">\n          <div className=\"home w-3/5\">\n            <Feed\n              handleState={this.handleState}\n              openTag={this.state.openTag}\n              author={this.state.author}\n              myfeed={this.state.myfeed}\n            />\n            {this.state.error ? (\n              <p className=\"text-base capitalize text-center m-4\">\n                {this.state.error}\n              </p>\n            ) : (\n              <>\n                <ArticlesFeed\n                  articles={this.state.articles}\n                  openTag={this.state.openTag}\n                  user={this.props.user}\n                  handleState={this.handleState}\n                />\n                {this.state.articles ? (\n                  <Pagination\n                    handleState={this.handleState}\n                    articlesCount={this.state.articlesCount}\n                    activeIndex={this.state.activeIndex}\n                  />\n                ) : (\n                  \"\"\n                )}\n              </>\n            )}\n          </div>\n\n          <Sidebar handleState={this.handleState} tags={this.state.tags} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}