{"ast":null,"code":"var _jsxFileName = \"/home/somanshu/Desktop/altcampus/REACT/blog-app/blog-app/src/components/newPost.js\";\nimport React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass NewPost extends React.Component {\n  constructor() {\n    super();\n    this.handleInput = _ref => {\n      let {\n        target\n      } = _ref;\n      let {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      });\n    };\n    this.checkInput = () => {\n      let {\n        title,\n        description,\n        tags,\n        body\n      } = this.state;\n      if (!title || !description || !tags || !body) {\n        this.setState({\n          error: \"all fields are required*\"\n        });\n      }\n    };\n    this.addArticle = () => {\n      let {\n        title,\n        description,\n        tags,\n        body\n      } = this.state;\n      fetch(`https://mighty-oasis-08080.herokuapp.com/api/articles`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: `Token ${this.props.token}`\n        },\n        body: JSON.stringify({\n          article: {\n            title: title,\n            description: description,\n            body: body,\n            tagList: [tags]\n          }\n        })\n      }).then(res => {\n        if (!res.ok) {\n          return res.json().then(_ref2 => {\n            let {\n              errors\n            } = _ref2;\n            return Promise.reject(errors);\n          });\n        }\n        return res.json();\n      }).then(article => {\n        console.log(article.slug);\n        this.props.history.push(`/articles/${article.slug}`);\n      }).catch(errors => {\n        this.setState({\n          error: errors.error\n        });\n      });\n    };\n    this.state = {\n      title: \"How Experts Figure What to Focus On\",\n      description: \"What to Focus On\",\n      body: \"Peak performance experts say things like, 'You should focus. You need to eliminate the distractions. Commit to one thing and become great at that thing.' This is good advice. The more I study successful people from all walks of life—artists, athletes, entrepreneurs, scientists—the more I believe focus is a core factor of success. But there is a problem with this advice too.\",\n      tags: \"focus, experts\",\n      error: undefined\n    };\n  }\n  render() {\n    let {\n      title,\n      description,\n      tags,\n      body\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-creme pb-28\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"capitalize text-2xl text-center p-4 blue \",\n        children: \"add article\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mx-auto w-3/5\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: event => {\n            event.preventDefault();\n            this.checkInput();\n            this.addArticle();\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-red-600\",\n            children: this.state.error ? this.state.error : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Enter Article Title\",\n            onChange: this.handleInput,\n            className: \"text-lg rounded-md w-full py-1 px-4 my-2 border-2 border-solid border-blue-900 text-blue-900\",\n            type: \"text\",\n            name: \"title\",\n            value: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"What's this article is about?\",\n            onChange: this.handleInput,\n            className: \"text-lg rounded-md w-full py-1 px-4 my-2 border-2 border-solid border-blue-900 text-blue-900\",\n            type: \"text\",\n            name: \"description\",\n            value: description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"text-lg rounded-md w-full py-1 px-4 my-2 border-2 border-solid border-blue-900 text-blue-900\",\n            placeholder: \"Write your article\",\n            rows: 6,\n            onChange: this.handleInput,\n            value: body,\n            name: \"body\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Enter tags\",\n            onChange: this.handleInput,\n            className: \"text-lg rounded-md w-full py-1 px-4 my-2 border-2 border-solid border-blue-900 text-blue-900\",\n            type: \"text\",\n            name: \"tags\",\n            value: tags\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            value: \"Add Article\",\n            className: \"text-lg rounded-md w-full py-1 px-4 bg-blue-300 blue my-2 border-2 border-solid border-blue-900 text-blue-900\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default _c = withRouter(NewPost);\nvar _c;\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","withRouter","NewPost","Component","constructor","handleInput","target","name","value","setState","checkInput","title","description","tags","body","state","error","addArticle","fetch","method","headers","authorization","props","token","JSON","stringify","article","tagList","then","res","ok","json","errors","Promise","reject","console","log","slug","history","push","catch","undefined","render","event","preventDefault"],"sources":["/home/somanshu/Desktop/altcampus/REACT/blog-app/blog-app/src/components/newPost.js"],"sourcesContent":["import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\n\nclass NewPost extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      title: \"How Experts Figure What to Focus On\",\n      description: \"What to Focus On\",\n      body: \"Peak performance experts say things like, 'You should focus. You need to eliminate the distractions. Commit to one thing and become great at that thing.' This is good advice. The more I study successful people from all walks of life—artists, athletes, entrepreneurs, scientists—the more I believe focus is a core factor of success. But there is a problem with this advice too.\",\n      tags: \"focus, experts\",\n      error: undefined,\n    };\n  }\n  handleInput = ({ target }) => {\n    let { name, value } = target;\n    this.setState({\n      [name]: value,\n    });\n  };\n  checkInput = () => {\n    let { title, description, tags, body } = this.state;\n    if (!title || !description || !tags || !body) {\n      this.setState({\n        error: \"all fields are required*\",\n      });\n    }\n  };\n  addArticle = () => {\n    let { title, description, tags, body } = this.state;\n    fetch(`https://mighty-oasis-08080.herokuapp.com/api/articles`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authorization: `Token ${this.props.token}`,\n      },\n      body: JSON.stringify({\n        article: {\n          title: title,\n          description: description,\n          body: body,\n          tagList: [tags],\n        },\n      }),\n    })\n      .then((res) => {\n        if (!res.ok) {\n          return res.json().then(({ errors }) => {\n            return Promise.reject(errors);\n          });\n        }\n        return res.json();\n      })\n      .then((article) => {\n        console.log(article.slug);\n        this.props.history.push(`/articles/${article.slug}`);\n      })\n      .catch((errors) => {\n        this.setState({\n          error: errors.error,\n        });\n      });\n  };\n  render() {\n    let { title, description, tags, body } = this.state;\n    return (\n      <div className=\"bg-creme pb-28\">\n        <h2 className=\"capitalize text-2xl text-center p-4 blue \">\n          add article\n        </h2>\n        <div className=\"text-center mx-auto w-3/5\">\n          <form\n            onSubmit={(event) => {\n              event.preventDefault();\n              this.checkInput();\n              this.addArticle();\n            }}\n          >\n            <span className=\"text-red-600\">\n              {this.state.error ? this.state.error : \"\"}\n            </span>\n            <input\n              placeholder=\"Enter Article Title\"\n              onChange={this.handleInput}\n              className=\"text-lg rounded-md w-full py-1 px-4 my-2 border-2 border-solid border-blue-900 text-blue-900\"\n              type=\"text\"\n              name=\"title\"\n              value={title}\n            ></input>\n            <input\n              placeholder=\"What's this article is about?\"\n              onChange={this.handleInput}\n              className=\"text-lg rounded-md w-full py-1 px-4 my-2 border-2 border-solid border-blue-900 text-blue-900\"\n              type=\"text\"\n              name=\"description\"\n              value={description}\n            ></input>\n            <textarea\n              className=\"text-lg rounded-md w-full py-1 px-4 my-2 border-2 border-solid border-blue-900 text-blue-900\"\n              placeholder=\"Write your article\"\n              rows={6}\n              onChange={this.handleInput}\n              value={body}\n              name=\"body\"\n            ></textarea>\n            <input\n              placeholder=\"Enter tags\"\n              onChange={this.handleInput}\n              className=\"text-lg rounded-md w-full py-1 px-4 my-2 border-2 border-solid border-blue-900 text-blue-900\"\n              type=\"text\"\n              name=\"tags\"\n              value={tags}\n            ></input>\n            <input\n              type=\"submit\"\n              value=\"Add Article\"\n              className=\"text-lg rounded-md w-full py-1 px-4 bg-blue-300 blue my-2 border-2 border-solid border-blue-900 text-blue-900\"\n            ></input>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(NewPost);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}