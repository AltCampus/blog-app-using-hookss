{"ast":null,"code":"var _jsxFileName = \"/home/somanshu/Desktop/altcampus/REACT/blog-app/blog-app/src/components/profile.js\";\nimport React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport ArticlesFeed from \"./articlesFeed\";\nimport Feed from \"./feed\";\nimport fetchData from \"../utils/fetchData\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass Profile extends React.Component {\n  constructor() {\n    super();\n    this.handleState = (key, value) => {\n      this.setState({\n        [key]: value\n      }, () => {\n        if (key === \"myfeed\") {\n          fetchData(this.state.myfeed ? `&author=${this.state.user.username}` : `&favorited=${this.state.user.username}`, 0, this.handleState);\n        }\n      });\n    };\n    this.state = {\n      articles: null,\n      articlesCount: null,\n      author: \"\",\n      myfeed: true,\n      user: \"\"\n    };\n  }\n  componentDidMount() {\n    fetch(`https://mighty-oasis-08080.herokuapp.com/api/user`, {\n      method: \"GET\",\n      headers: {\n        authorization: `Token ${JSON.parse(localStorage.getItem(\"userToken\"))}`\n      }\n    }).then(data => data.json()).then(data => {\n      if (data.profile) {\n        this.setState({\n          user: data.profile\n        });\n      }\n    });\n    fetchData(this.state.myfeed ? `&author=${this.state.user.username}` : `&favorited=${this.state.user.username}`, 0, this.handleState);\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Hero, {\n        user: this.state.user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-3/5 mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(Feed, {\n          myfeed: this.state.myfeed,\n          author: true,\n          myArticles: true,\n          favouritedFeed: true,\n          handleState: this.handleState\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ArticlesFeed, {\n          articles: this.state.articles,\n          openTag: this.state.openTag\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this);\n  }\n}\nfunction Hero(props) {\n  let {\n    username,\n    email,\n    bio,\n    image\n  } = props.user;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-creme relative p-4 \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center flex-col justify-evenly \",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"w-16  rounded-2xl h-16\",\n            src: image,\n            alt: username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"medBlue text-3xl capitalize p-3\",\n            children: username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"  text-xl p-3\",\n          href: \"/\",\n          onClick: event => {\n            event.preventDefault();\n          },\n          children: email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg\",\n          children: bio\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n        to: \"/settings\",\n        className: \"absolute bottom-2 right-4 p-2 underline pink text-base\",\n        children: \"Update settings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_c = Hero;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Hero\");","map":{"version":3,"names":["React","NavLink","ArticlesFeed","Feed","fetchData","Profile","Component","constructor","handleState","key","value","setState","state","myfeed","user","username","articles","articlesCount","author","componentDidMount","fetch","method","headers","authorization","JSON","parse","localStorage","getItem","then","data","json","profile","render","openTag","Hero","props","email","bio","image","event","preventDefault"],"sources":["/home/somanshu/Desktop/altcampus/REACT/blog-app/blog-app/src/components/profile.js"],"sourcesContent":["import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport ArticlesFeed from \"./articlesFeed\";\nimport Feed from \"./feed\";\nimport fetchData from \"../utils/fetchData\";\n\nclass Profile extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      articles: null,\n      articlesCount: null,\n      author: \"\",\n      myfeed: true,\n      user: \"\",\n    };\n  }\n  componentDidMount() {\n    fetch(`https://mighty-oasis-08080.herokuapp.com/api/user`, {\n      method: \"GET\",\n      headers: {\n        authorization: `Token ${JSON.parse(localStorage.getItem(\"userToken\"))}`,\n      },\n    })\n      .then((data) => data.json())\n      .then((data) => {\n        if (data.profile) {\n          this.setState({\n            user: data.profile,\n          });\n        }\n      });\n    fetchData(\n      this.state.myfeed\n        ? `&author=${this.state.user.username}`\n        : `&favorited=${this.state.user.username}`,\n      0,\n      this.handleState\n    );\n  }\n\n  handleState = (key, value) => {\n    this.setState(\n      {\n        [key]: value,\n      },\n      () => {\n        if (key === \"myfeed\") {\n          fetchData(\n            this.state.myfeed\n              ? `&author=${this.state.user.username}`\n              : `&favorited=${this.state.user.username}`,\n            0,\n            this.handleState\n          );\n        }\n      }\n    );\n  };\n  render() {\n    return (\n      <div>\n        <Hero user={this.state.user} />\n        <div className=\"w-3/5 mx-auto\">\n          <Feed\n            myfeed={this.state.myfeed}\n            author={true}\n            myArticles={true}\n            favouritedFeed={true}\n            handleState={this.handleState}\n          />\n          <ArticlesFeed\n            articles={this.state.articles}\n            openTag={this.state.openTag}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction Hero(props) {\n  let { username, email, bio, image } = props.user;\n  return (\n    <>\n      <div className=\"bg-creme relative p-4 \">\n        <div className=\"flex items-center flex-col justify-evenly \">\n          <div className=\"flex items-center\">\n            <img\n              className=\"w-16  rounded-2xl h-16\"\n              src={image}\n              alt={username}\n            ></img>\n            <h1 className=\"medBlue text-3xl capitalize p-3\">{username}</h1>\n          </div>\n          <a\n            className=\"  text-xl p-3\"\n            href=\"/\"\n            onClick={(event) => {\n              event.preventDefault();\n            }}\n          >\n            {email}\n          </a>\n          <p className=\"text-lg\">{bio}</p>\n        </div>\n        <NavLink\n          to=\"/settings\"\n          className=\"absolute bottom-2 right-4 p-2 underline pink text-base\"\n        >\n          Update settings\n        </NavLink>\n      </div>\n    </>\n  );\n}\n\nexport default Profile;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}