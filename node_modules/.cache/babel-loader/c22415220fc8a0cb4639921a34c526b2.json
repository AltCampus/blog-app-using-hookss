{"ast":null,"code":"import _classCallCheck from\"/home/somanshu/Desktop/altcampus/REACT/blog-app/blog-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/somanshu/Desktop/altcampus/REACT/blog-app/blog-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/somanshu/Desktop/altcampus/REACT/blog-app/blog-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/somanshu/Desktop/altcampus/REACT/blog-app/blog-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import{NavLink}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var HeroProfile=/*#__PURE__*/function(_React$Component){_inherits(HeroProfile,_React$Component);var _super=_createSuper(HeroProfile);function HeroProfile(){var _this;_classCallCheck(this,HeroProfile);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={user:\"\",currentUser:null};_this.followAuthor=function(){fetch(\"/api/profiles/\".concat(_this.state.user.username,\"/follow\"),{method:_this.state.user.following?\"DELETE\":\"POST\",headers:{\"Content-Type\":\"application/json\",authorization:\"\".concat(_this.state.currentUser.token)}}).then(function(res){if(!res.ok){throw new Error(\"can't follow author\");}return res.json();}).then(function(profile){_this.setState({user:profile.profile});}).catch(function(errors){_this.setState({error:errors.error});});};return _this;}_createClass(HeroProfile,[{key:\"componentDidMount\",value:function componentDidMount(){this.setState({user:this.props.user,currentUser:this.props.currentUser});}},{key:\"render\",value:function render(){var _this$props$user=this.props.user,username=_this$props$user.username,email=_this$props$user.email,bio=_this$props$user.bio,image=_this$props$user.image;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-creme relative p-4 \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center flex-col justify-evenly \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"w-16 rounded-3xl h-16\",src:image,alt:username}),/*#__PURE__*/_jsx(\"h1\",{className:\"blue text-3xl capitalize p-3\",children:username})]}),/*#__PURE__*/_jsx(\"a\",{className:\"  text-xl p-3\",href:\"/\",onClick:function onClick(event){event.preventDefault();},children:email}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg\",children:bio})]}),this.props.follow?/*#__PURE__*/_jsx(\"button\",{onClick:this.followAuthor,className:\"absolute bottom-2 right-4 p-2 underline pink text-base\",children:this.state.user.following?\"Unfollow\":\"Follow\"}):/*#__PURE__*/_jsx(NavLink,{to:\"/settings\",className:\"absolute bottom-2 right-4 p-2 underline pink text-base\",children:\"Update settings\"})]})});}}]);return HeroProfile;}(React.Component);export default HeroProfile;","map":{"version":3,"names":["React","NavLink","HeroProfile","state","user","currentUser","followAuthor","fetch","username","method","following","headers","authorization","token","then","res","ok","Error","json","profile","setState","catch","errors","error","props","email","bio","image","event","preventDefault","follow","Component"],"sources":["/home/somanshu/Desktop/altcampus/REACT/blog-app/blog-app/src/components/heroProfile.js"],"sourcesContent":["import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nclass HeroProfile extends React.Component {\n  state = {\n    user: \"\",\n    currentUser: null,\n  };\n  componentDidMount() {\n    this.setState({\n      user: this.props.user,\n      currentUser: this.props.currentUser,\n    });\n  }\n  followAuthor = () => {\n    fetch(`/api/profiles/${this.state.user.username}/follow`, {\n      method: this.state.user.following ? \"DELETE\" : \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        authorization: `${this.state.currentUser.token}`,\n      },\n    })\n      .then((res) => {\n        if (!res.ok) {\n          throw new Error(\"can't follow author\");\n        }\n        return res.json();\n      })\n      .then((profile) => {\n        this.setState({\n          user: profile.profile,\n        });\n      })\n      .catch((errors) => {\n        this.setState({\n          error: errors.error,\n        });\n      });\n  };\n  render() {\n    let { username, email, bio, image } = this.props.user;\n    return (\n      <>\n        <div className=\"bg-creme relative p-4 \">\n          <div className=\"flex items-center flex-col justify-evenly \">\n            <div className=\"flex items-center\">\n              <img\n                className=\"w-16 rounded-3xl h-16\"\n                src={image}\n                alt={username}\n              ></img>\n              <h1 className=\"blue text-3xl capitalize p-3\">{username}</h1>\n            </div>\n            <a\n              className=\"  text-xl p-3\"\n              href=\"/\"\n              onClick={(event) => {\n                event.preventDefault();\n              }}\n            >\n              {email}\n            </a>\n            <p className=\"text-lg\">{bio}</p>\n          </div>\n          {this.props.follow ? (\n            <button\n              onClick={this.followAuthor}\n              className=\"absolute bottom-2 right-4 p-2 underline pink text-base\"\n            >\n              {this.state.user.following ? \"Unfollow\" : \"Follow\"}\n            </button>\n          ) : (\n            <NavLink\n              to=\"/settings\"\n              className=\"absolute bottom-2 right-4 p-2 underline pink text-base\"\n            >\n              Update settings\n            </NavLink>\n          )}\n        </div>\n      </>\n    );\n  }\n}\n\nexport default HeroProfile;\n"],"mappings":"wiBAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,OAAO,KAAQ,kBAAkB,CAAC,gJAErCC,YAAW,2VACfC,KAAK,CAAG,CACNC,IAAI,CAAE,EAAE,CACRC,WAAW,CAAE,IACf,CAAC,OAODC,YAAY,CAAG,UAAM,CACnBC,KAAK,yBAAkB,MAAKJ,KAAK,CAACC,IAAI,CAACI,QAAQ,YAAW,CACxDC,MAAM,CAAE,MAAKN,KAAK,CAACC,IAAI,CAACM,SAAS,CAAG,QAAQ,CAAG,MAAM,CACrDC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClCC,aAAa,WAAK,MAAKT,KAAK,CAACE,WAAW,CAACQ,KAAK,CAChD,CACF,CAAC,CAAC,CACCC,IAAI,CAAC,SAACC,GAAG,CAAK,CACb,GAAI,CAACA,GAAG,CAACC,EAAE,CAAE,CACX,KAAM,IAAIC,MAAK,CAAC,qBAAqB,CAAC,CACxC,CACA,MAAOF,IAAG,CAACG,IAAI,EAAE,CACnB,CAAC,CAAC,CACDJ,IAAI,CAAC,SAACK,OAAO,CAAK,CACjB,MAAKC,QAAQ,CAAC,CACZhB,IAAI,CAAEe,OAAO,CAACA,OAChB,CAAC,CAAC,CACJ,CAAC,CAAC,CACDE,KAAK,CAAC,SAACC,MAAM,CAAK,CACjB,MAAKF,QAAQ,CAAC,CACZG,KAAK,CAAED,MAAM,CAACC,KAChB,CAAC,CAAC,CACJ,CAAC,CAAC,CACN,CAAC,wEA9BD,4BAAoB,CAClB,IAAI,CAACH,QAAQ,CAAC,CACZhB,IAAI,CAAE,IAAI,CAACoB,KAAK,CAACpB,IAAI,CACrBC,WAAW,CAAE,IAAI,CAACmB,KAAK,CAACnB,WAC1B,CAAC,CAAC,CACJ,CAAC,sBA0BD,iBAAS,CACP,qBAAsC,IAAI,CAACmB,KAAK,CAACpB,IAAI,CAA/CI,QAAQ,kBAARA,QAAQ,CAAEiB,KAAK,kBAALA,KAAK,CAAEC,GAAG,kBAAHA,GAAG,CAAEC,KAAK,kBAALA,KAAK,CACjC,mBACE,sCACE,aAAK,SAAS,CAAC,wBAAwB,wBACrC,aAAK,SAAS,CAAC,4CAA4C,wBACzD,aAAK,SAAS,CAAC,mBAAmB,wBAChC,YACE,SAAS,CAAC,uBAAuB,CACjC,GAAG,CAAEA,KAAM,CACX,GAAG,CAAEnB,QAAS,EACT,cACP,WAAI,SAAS,CAAC,8BAA8B,UAAEA,QAAQ,EAAM,GACxD,cACN,UACE,SAAS,CAAC,eAAe,CACzB,IAAI,CAAC,GAAG,CACR,OAAO,CAAE,iBAACoB,KAAK,CAAK,CAClBA,KAAK,CAACC,cAAc,EAAE,CACxB,CAAE,UAEDJ,KAAK,EACJ,cACJ,UAAG,SAAS,CAAC,SAAS,UAAEC,GAAG,EAAK,GAC5B,CACL,IAAI,CAACF,KAAK,CAACM,MAAM,cAChB,eACE,OAAO,CAAE,IAAI,CAACxB,YAAa,CAC3B,SAAS,CAAC,wDAAwD,UAEjE,IAAI,CAACH,KAAK,CAACC,IAAI,CAACM,SAAS,CAAG,UAAU,CAAG,QAAQ,EAC3C,cAET,KAAC,OAAO,EACN,EAAE,CAAC,WAAW,CACd,SAAS,CAAC,wDAAwD,6BAIrE,GACG,EACL,CAEP,CAAC,yBA/EuBV,KAAK,CAAC+B,SAAS,EAkFzC,cAAe7B,YAAW"},"metadata":{},"sourceType":"module"}